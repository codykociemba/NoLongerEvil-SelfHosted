# NoLongerEvil Server Configuration
# Copy this file to .env and customize as needed

# Server configuration
API_ORIGIN=http://localhost
SERVER_PORT=443
CONTROL_PORT=8081

# TLS configuration (optional)
# CERT_DIR=./certs

# Entry key configuration
ENTRY_KEY_TTL_SECONDS=3600

# Device pairing requirement (default: false)
# When true, devices must complete entry key pairing before transport access.
# When false, any device can PUT and subscribe without registration.
REQUIRE_DEVICE_PAIRING=false

# Weather configuration
WEATHER_CACHE_TTL_MS=600000

# Subscription configuration
MAX_SUBSCRIPTIONS_PER_DEVICE=100

# Subscription timing
# SUSPEND_TIME_MAX: Device sleep duration before fallback wake (default 600s / 10min)
# Server holds connection for SUSPEND_TIME_MAX + 60s buffer
# SUSPEND_TIME_MAX=600

# DEFER_DEVICE_WINDOW: Delay before device sends PUT after local changes (default 15s)
# Batches rapid dial turns into single request. 0 = immediate.
# DEFER_DEVICE_WINDOW=15

# DISABLE_DEFER_WINDOW: After server push, disable defer for this duration (default 60s)
# Allows immediate device confirmation of temperature changes.
# DISABLE_DEFER_WINDOW=60

# Debug configuration
DEBUG_LOGGING=false
DEBUG_LOGS_DIR=./data/debug-logs
# STORE_DEVICE_LOGS=true

# Database configuration
SQLITE3_DB_PATH=./data/database.sqlite

# MQTT configuration (optional)
# MQTT_HOST=localhost
# MQTT_PORT=1883
# MQTT_USER=
# MQTT_PASSWORD=
# MQTT_TOPIC_PREFIX=nolongerevil
# MQTT_DISCOVERY_PREFIX=homeassistant
